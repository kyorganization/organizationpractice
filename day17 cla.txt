# âš–ï¸ Else Clause in Try-Except

ğŸ‘‰ The 'else' clause in a try-except block runs **only if no exception occurs** in the try block.

Syntax:
try:
    # code that might raise exception
except SomeError:
    # handle error
else:
    # runs only if try succeeds

âœ… Why use else?
1. Separates error-handling code from success code  
2. Makes code more readable  
3. Ensures code only runs when try block succeeds  
4. Better than putting code at end of try block (which runs even if exception occurs)  

âš ï¸ IMPORTANT: The else block runs **before** the finally block (if present).

# ğŸ“Š Flowchart: Try-Except-Else
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Try block  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Exception?      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        Yes     â”‚        No
        â”‚       â–¼
        â–¼   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Else block     â”‚
 â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚                  â”‚
 â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚          â”‚ Continue code   â”‚
 â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Except block   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


# ğŸ“ Example
def process_number_with_else(value):
    try:
        number = float(value)
    except ValueError:
        print("value is not a number")
        return None
    else:
        print(f"{value} converted to {number}")
        squared = number**2
        print(f"squared = {squared}")
        return squared

process_number_with_else("42")


# ğŸ”š Finally Clause

ğŸ‘‰ The "finally" clause always executes, regardless of whether an exception occurred or not.  
ğŸ‘‰ Common uses:
- Closing files  
- Cleanup operations  
- Logging  

Syntax:
try:
    # code
except SomeError:
    # handle error
finally:
    # cleanup code (always runs)

# ğŸ“Š Flowchart: Try-Except-Finally
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Try block  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Exception?      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        Yes     â”‚        No
        â”‚       â–¼
        â–¼   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Continue code  â”‚
 â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚                  â”‚
 â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Except block   â”‚   â”‚ Finally block â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”€â”€â”€â”€â”˜
               Always runs


# ğŸ“ Example
def connect_to_server(server_address):
    try:
        print(f"attempting to connect to {server_address}")
        if server_address == "":
            return "Empty server address"
        connection = f"connection to {server_address}"
        print("connected successfully")
    except ValueError as e:
        print(f"configuration error: {e}")
        return False
    finally:
        if connection:
            print(f"closing connection to {server_address}")
        print("cleanup completed")

server = "goog.server.com"


# ğŸš¨ Raising Exceptions

ğŸ‘‰ We can raise exceptions manually using the "raise" keyword.  
ğŸ‘‰ Useful for:
- Input validation  
- Enforcing business rules  
- Signaling error conditions  
- Creating custom error messages  

Syntax:
raise ExceptionType("error message")

Common patterns:
- raise ValueError("invalid value")  
- raise TypeError("wrong type")  

# ğŸ“ Example
def validate_age(age):
    if not isinstance(age, int):
        raise TypeError("age must be an integer")
    if age < 0:
        raise ValueError("age must be positive")
    if age > 150:
        raise ValueError("age must be less than 150")
    return True

try:
    validate_age(25)
    print("age is 25")
except (TypeError, ValueError) as e:
    print(f"error: {e}")


# ğŸ›ï¸ Exception Hierarchy

ğŸ‘‰ All exceptions in Python inherit from the BaseException class.

BaseException  
    â”œâ”€â”€ SystemExit (sys.exit())  
    â”œâ”€â”€ KeyboardInterrupt (Ctrl+C)  
    â””â”€â”€ Exception (base for most exceptions)  
        â”œâ”€â”€ ArithmeticError  
        â”‚   â”œâ”€â”€ ZeroDivisionError  
        â”‚   â”œâ”€â”€ OverflowError  
        â”‚   â””â”€â”€ FloatingPointError  
        â”œâ”€â”€ LookupError  
        â”‚   â”œâ”€â”€ IndexError  
        â”‚   â””â”€â”€ KeyError  
        â”œâ”€â”€ TypeError  
        â”œâ”€â”€ ValueError  
        â”œâ”€â”€ NameError  
        â”œâ”€â”€ AttributeError  
        â”œâ”€â”€ IOError / OSError  
        â”‚   â”œâ”€â”€ FileNotFoundError  
        â”‚   â”œâ”€â”€ PermissionError  
        â”‚   â””â”€â”€ IsDirectoryError  
        â””â”€â”€ RuntimeError  
            â””â”€â”€ RecursionError  

# ğŸ“Š Flowchart: Exception Handling Order
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Try block  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Exception raisedâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Match specific  â”‚
        â”‚ except first    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚No match
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Next broader   â”‚
        â”‚ except block   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚No match
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Generic except â”‚
        â”‚ (Exception)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ğŸ“ Example
def demonstrate_hierarchy():
    try:
        result = 10 / 0
    except ZeroDivisionError:   # most specific
        print("division by zero")
    except ArithmeticError:     # more general
        print("caught ArithmeticError")
    except Exception:           # most generic
        print("caught exception")