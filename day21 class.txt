# ğŸ“‚ Writing a File in Python

with open("my_write_file", 'w') as file:
    file.write("hello world\n")
    file.write("how are you")

print("file written successfully")

# Using 'with' â†’ file automatically closes, no need to close manually

try:
    file = open("my_write_file", "r")
    content = file.read()
    print(content)
finally:
    file.close()


# ğŸ“Š Flowchart: File Writing
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ open file (w) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ write content   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ close file      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


# ğŸ“‚ File Modes in Python

'r'   â†’ Read-only. Error if file doesn't exist  
'r+'  â†’ Read and write. Error if file doesn't exist  
'w'   â†’ Write-only. Overwrites file if exists, else creates new  
'w+'  â†’ Read and write. Overwrites file or creates new  
'a'   â†’ Append-only. Adds data to end. Creates file if not exists  
'a+'  â†’ Read and append. Pointer at end. Creates file if not exists  
'rb'  â†’ Read in binary mode. File must exist  
'rb+' â†’ Read and write in binary mode. File must exist  
'wb'  â†’ Write in binary. Overwrites or creates new  
'wb+' â†’ Read and write in binary. Overwrites or creates new  
'ab'  â†’ Append in binary. Creates file if not exists  
'ab+' â†’ Read and append in binary. Creates file if not exists  


# ğŸ“ Examples

# Append mode
# with open("ex.txt", 'a') as file:
#     file.write("\nthis is a new line")

# Read + Write mode
# with open("ex.txt", 'r+') as file:
#     content = file.read()
#     print(f'before writing: {content}')
#     file.write("\n hi I'm new line")

with open("ex.txt", "w+") as file:
    file.write("hello, world\n")
    file.seek(0)
    content = file.read()
    print(content)


# ğŸŒ Introduction to JSON

ğŸ‘‰ JSON = JavaScript Object Notation  
ğŸ‘‰ Common uses:
- APIs  
- Data exchange between frontend & backend  
- Storing configuration  

âœ… Why JSON is popular?
- Human readable  
- Language independent  
- Used in REST APIs  
- Supports nested objects  
- Easy to parse  

# ğŸ“Š Flowchart: JSON Conversion
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ JSON string    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ json.loads()
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Python object   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ json.dumps()
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ JSON string     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


# ğŸ”„ JSON vs Python Data Types

JSON          â†’ Python  
object {}     â†’ dict  
array []      â†’ list  
string        â†’ str  
number        â†’ int/float  
true          â†’ True  
false         â†’ False  
null          â†’ None  


# ğŸ“ Methods
json.loads() â†’ JSON string â†’ Python object  
json.dumps() â†’ Python object â†’ JSON string  
json.load()  â†’ Read JSON from file â†’ Python object  
json.dump()  â†’ Write Python object â†’ JSON file  


# ğŸ“ Examples

import json

json_string = '{"name":"ganesh","age":"25","skills":["python","aws"]}'
print(type(json_string))

python_obj = json.loads(json_string)
print(python_obj)
print(type(python_obj))
print(python_obj['name'])
print(python_obj['skills'][0])

# Convert dict to JSON string
data = {
    "company": "TCS",
    "employees": 200,
    "active": True
}
print(type(data))
json_string = json.dumps(data, indent=4, sort_keys=True)
print(json_string)

# Read JSON from file
with open("s.json", 'r') as file:
    data = json.load(file)
print(type(data))
print(data)

# Write JSON to file
student = {"id":101, "name":"krishna", "marks":[89,95,88]}
with open("student.json", 'w') as file:
    json.dump(student, file, indent=4)